<ion-content class="app-login-content">
  <div class="container">
    <div class="app-logo-container">
      <img src="assets/images/pompadour-logo.png">
    </div>
    <div class="ion-padding sign-in-container">
      <app-otp-handler *ngIf="presentOTPPage" (componentResponse)="otpModalDidResponse($event)" [otpMobileNumber]="user.mobileNumber"></app-otp-handler>

      <ion-list class="account-input-list">
        <form [formGroup]="signinForm" (ngSubmit)="continue()" novalidate>          
          <ion-item class="account-input-ion-item bounce" lines="none">
            <ion-label class="account-phone-number-input-label">+63</ion-label>
            <ion-input [ngClass]="(didSubmit && errorControl.username.errors) ? 'input-error': ''" ngDefaultControl class="account-input" formControlName="username" placeholder="Mobile Number" type="number" clear-input="true"required max="10"></ion-input>
            <ion-icon *ngIf="didSubmit && errorControl.username.errors" class="error-message-icon" name="alert-circle" color="danger" slot="end"></ion-icon>
            <ion-icon *ngIf="errorMessage" class="error-message-icon" name="alert-circle" color="danger" slot="end"></ion-icon>
          </ion-item>    
          <div class="error-message-container">
            <span *ngIf="didSubmit && errorControl.username.errors">Username field is required.</span>
            <span *ngIf="errorMessage">{{ errorMessage }}</span>
          </div>
          <ion-item class="account-input-ion-item bounce" lines="none">
            <!-- <ion-label class="account-phone-number-input-label">+63</ion-label> -->
            <ion-input [ngClass]="(didSubmit && errorControl.password.errors) ? 'input-error': ''" ngDefaultControl class="account-input" formControlName="password" placeholder="Password" type="password" clear-input="true" required></ion-input>
            <ion-icon *ngIf="didSubmit && errorControl.password.errors" class="error-message-icon" name="alert-circle" color="danger" slot="end"></ion-icon>
            <ion-icon *ngIf="errorMessage" class="error-message-icon" name="alert-circle" color="danger" slot="end"></ion-icon>
          </ion-item>    
          <div class="error-message-container">
            <span *ngIf="didSubmit && errorControl.password.errors">Password field is required.</span>
            <span *ngIf="errorMessage">{{ errorMessage }}</span>
          </div>
          <ion-button color="secondary" (click)="continue()" class="account-input-ion-button">
            <span color="primary">Sign in</span>
          </ion-button>
        </form>
      </ion-list>

      <div class="sign-in-container div-divider">
        <ion-grid>
          <ion-row>
            <ion-col>
              <h4 class="horizontal-line"><span>or</span></h4>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <div class="ion-text-wrap">
                <span class="account-input-other-option">No existing account yet? Join us now. <a (click)="goToSignup()" class="account-input-other-option-link">Sign up with us :)</a></span>
              </div>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>
    </div>
  </div>
</ion-content>
